package com.fashion.binge.fashiondesign.json;import android.content.Context;import android.util.Log;import com.android.volley.AuthFailureError;import com.android.volley.Request;import com.android.volley.Response;import com.android.volley.VolleyError;import com.android.volley.toolbox.StringRequest;import com.fashion.binge.fashiondesign.classes.AlertDIalogMessage;import com.fashion.binge.fashiondesign.classes.JSONUrl;import com.fashion.binge.fashiondesign.helper.AppController;import com.fashion.binge.fashiondesign.interfaces.AddToCartInfoHolder;import com.fashion.binge.fashiondesign.sweetalertdialog.SweetAlertDialog;import org.json.JSONException;import org.json.JSONObject;import java.util.HashMap;import java.util.Map;public class AddToCart {    private Context context;    private static final String tag_json_obj = "tag_json_obj";    public AddToCart(Context context) {        this.context = context;    }    public void addToCart(final SweetAlertDialog sweetAlertDialog, final String headerValue, final JSONObject jsonObject, final AddToCartInfoHolder addToCartInfoHolder) {        StringRequest requestToken = new StringRequest(Request.Method.POST, JSONUrl.BASE_URL+ JSONUrl.ADD_TO_CART_URL, new Response.Listener<String>() {            @Override            public void onResponse(String response) {                Log.e("Response",response);                try {                    JSONObject jsonObject1 = new JSONObject(response);                    if (jsonObject1.has("success")) {                        String status = jsonObject1.getString("success");                        String totalProductCount=jsonObject1.getString("total_product_count");                        if (status.equals("true")) {                            addToCartInfoHolder.cartResponse("Successfully added to cart",totalProductCount);                        } else {                            addToCartInfoHolder.cartResponse("Error while adding to cart",null);                        }                    } else {                        String statusCode = jsonObject.getString("statusCode");                        addToCartInfoHolder.cartResponse(statusCode,null);                    }                } catch (JSONException e) {                    e.printStackTrace();                }            }        }, new Response.ErrorListener() {            @Override            public void onErrorResponse(VolleyError volleyError) {                sweetAlertDialog.dismiss();                new AlertDIalogMessage().showErrorMessage(volleyError, context);            }        }) {            @Override            public byte[] getBody() throws com.android.volley.AuthFailureError {                String str = jsonObject.toString();                return str.getBytes();            }            @Override            public Map<String, String> getHeaders() throws AuthFailureError {                Map<String, String> params = new HashMap<>();                params.put("Authorization", headerValue);                return params;            }        };        AppController.getInstance().addToRequestQueue(requestToken, tag_json_obj);    }}